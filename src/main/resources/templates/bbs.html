<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <title>宠物论坛首页</title>
    <link rel="stylesheet"  th:href="@{/css/bootstrap.min.css}" />
    <style type="text/css">
        #active{
            background: #ffa9a5;
        }
        #href_1 :link{
            background: #ffa9a5;
        }
    </style>
</head>
<body th:style="'background:url(' + @{/img/10.jpg} + ');'">
<nav class="navbar navbar-default navbar-fixed-top" style="height:72px;background-color: #96ebff;">
    <div class="container-fluid">
        <div class="navbar-header" style="height: 72px;background-color: #96ebff;">
            <a href="#" class="navbar-brand" style="padding:0;"><img src="img/1.png" width="200px;"></a>
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse" style="margin-top: 15px;margin-right: 15px; ">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse" style="background-color: #96ebff;margin-top: 10px;">
            <ul class="nav navbar-nav navbar-right" style="padding:5px;">
                <li><a href="#"><span class="glyphicon glyphicon-home"></span>宠物服务</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-list"></span>宠物托运</a></li>
                <li id="active"><a href="#"><span class="glyphicon glyphicon-fire"></span>宠物论坛</a></li>
                <li><a id="href_1" href="#" class="dropdown-toggle" data-toggle="dropdown" style="margin-right: 10px;"><span class="glyphicon glyphicon-question-sign">
                </span>个人页面<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">修改个人信息</a></li>
                        <li class="divider"></li>
                        <li><a href="#">订单管理</a></li>
                        <li class="divider"></li>
                        <li><a href="#">消息箱</a></li>
                        <li class="divider"></li>
                        <li><a href="#">我的帖子</a></li>
                    </ul>
                </li>

                <button class="btn btn-primary" style="margin-right: 10px;margin-top: 10px; float: right;"
                        data-toggle="modal" data-target=".myModal1">注册
                </button>
                <button class="btn btn-danger" style="margin-top:10px;float:right;margin-right:10px;"
                        data-toggle="modal" data-target=".myModal2">登录
                </button>

            </ul>
        </div>
    </div>
</nav>
<div class="row" style=" background-color: #2aabd2; border: 1px solid black;margin-top: 72px;height: 50px;padding: 5px;">
    <div class="col-lg-5 col-lg-offset-1 col-md-5 col-md-offset-1 col-sm-6 col-sm-offset-1 col-xs-9">
        <div class="input-group" style="margin-top:3px; margin-bottom: 3px;float: right;">
            <input type="text" class="form-control">
            <span class="input-group-addon" style="background: #55ecfe">帖子</span>
        </div>
    </div>
    <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1" style="margin-top:3px;">
        <button class="glyphicon glyphicon-search btn"></button>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" style="padding:5px;">
        <span class="glyphicon glyphicon-fire " style="color: red;padding:5px;"></span>
        <strong style="color:red;font-size:18px;">热搜：</strong>
        &nbsp;&nbsp;<a style="color:black;">金毛</a>&nbsp;&nbsp;&nbsp;&nbsp;<a style="color:black;">如何选择狗粮</a>
    </div>
</div>
<div class="container">
<div class="row">
        <div id="myCarousel" class="carousel slide" style="background-color: #3c3c3c">
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="item active">
                    <center>
                        <img src="img/1.jpg" style="height:300px;" alt="第一张"></center>
                </div>
                <div class="item">
                    <center>
                        <img src="img/2.jpg" style="height:300px;" alt="第二张">
                    </center>
                </div>
                <div class="item ">
                    <center>
                        <img src="img/3.jpg" style="height:300px;" alt="第三张">
                    </center>
                </div>
            </div>
            <a href="#myCarousel" data-slide="prev" class="carousel-control left">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            <a href="#myCarousel" data-slide="next" class="carousel-control right">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>
    </div>
</div>
</div>
<div class="container">
    <div class="row" style="margin-top: 20px;padding: 10px;background-color: #9acfea;">
        <div class="col-lg-1 col-md-2 col-sm-3 col-xs-2">
            <button  class="btn btn-primary"
                     data-toggle="modal" data-target=".myModal3" style="margin-right: 10px;">发帖
            </button>
        </div>
        <div class="col-lg-offset-7 col-lg-4 col-md-offset-5 col-md-5 col-sm-offset-3 col-sm-6 col-xs-10">
            <ul class="pagination " style="margin:0px;margin-left: 10px;">
                <li><a href="#">&laquo;</a></li>
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">&raquo;</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="container" style="margin-top: 10px;">
        <div class="table-responsive" style="background-color: rgba(28,28,28,0.45);color: whitesmoke;">
                    <table class="table" >
                <thead>
                <tr style="text-align: center;">
                    <th style="font-size: 20px;"><strong>帖子</strong></th>
                    <th style="font-size: 20px;"><strong>作者</strong></th>
                    <th style="font-size: 20px;"><strong>回复/查看</strong></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="font-size: 18px;">
                        下午好下午好下午好下午好
                    </td>
                    <td>小小天</td>
                    <td>11/12</td>
                </tr>
                <tr>
                    <td style="font-size: 18px;">
                        下午好下午好下午好下午好
                    </td>
                    <td>小小天</td>
                    <td>11/12</td>
                </tr>
                </tbody>
            </table>
    </div>
    <div class="row" style="margin-top: 20px;padding: 10px;background-color: #9acfea;">
        <div class="col-lg-1 col-md-2 col-sm-3 col-xs-2">
            <button  class="btn btn-primary"
                     data-toggle="modal" data-target=".myModal3" style="margin-right: 10px;">发帖
            </button>
        </div>
        <div class="col-lg-offset-7 col-lg-4 col-md-offset-5 col-md-5 col-sm-offset-3 col-sm-6 col-xs-10">
            <ul class="pagination " style="margin:0px;margin-left: 10px;">
                <li><a href="#">&laquo;</a></li>
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">&raquo;</a></li>
            </ul>
        </div>
    </div>
</div>
    <div class="modal myModal2"><!---->
        <div class="modal-dialog modal-md"><!--还有modal-sm，modal-md-->
            <div class="modal-content">
                <div class="modal-header" style="padding: 10px;">
                    <button class="close" data-dismiss="modal">×</button>
                    <center>
                        <span style="font-size: 22px;"><strong>赶快登陆啊！！！</strong></span>
                    </center>
                </div>
                <div class="modal-body">
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 18px;"><b>账号</b></span>
                            <input type="text" style="font-size: 18px;width:200px;" >
                        </center>
                    </div>
                    <div class="row" style="margin-top:20px;">
                        <center>
                            <span style="font-size: 18px;"><b>密码</b></span>
                            <input type="password" style="font-size: 18px;width:200px;">
                        </center>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;margin-right: 5px;"><strong>身份</strong></span>
                            <input type="radio" name="level"><span style="font-size: 18px;margin-right: 10px;"><b>用户</b></span>
                            <input type="radio" name="level"><span style="font-size: 18px;margin-right: 10px;"><b>管理员</b></span>
                            <input type="radio" name="level"><span style="font-size: 18px;"><b>服务商</b></span>
                        </center>
                    </div>
                    <div class="row" style="height: 60px;border:1px solid black;margin-top:20px;">
                        <p>验证码区域</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="row">
                        <center>
                            <button class="btn btn-primary" data-dismiss="modal" style="margin-right: 10px;">登录
                            </button>
                            <button class="btn btn-danger" data-dismiss="modal">忘记密码</button>
                        </center>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal myModal1"><!---->
        <div class="modal-dialog modal-md"><!--还有modal-sm，modal-md-->
            <div class="modal-content">
                <div class="modal-header" style="padding: 10px;">
                    <button class="close" data-dismiss="modal">×</button>
                    <center>
                        <span style="font-size: 22px;"><strong>注册赶紧的</strong></span>
                    </center>
                    <button style="float:left;">注册服务商通道</button>
                </div>
                <div class="modal-body">
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;"><strong>&nbsp;&nbsp;用户名</strong></span>
                            <input type="text" style="font-size:20px;width: 180px;" id="uname" placeholder="用户名不大于8个字符">
                        </center>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;密码</strong></span>
                            <input type="password" style="font-size:20px; width: 180px;" id="upd" placeholder="密码6-9位">
                        </center>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;"><strong>确认密码</strong></span>
                            <input type="password" style="font-size:20px; width: 180px;" id="upd1" placeholder="请再次输入密码">
                        </center>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;邮箱</strong></span>
                            <input type="email" style="font-size:20px; width:180px;" placeholder="请输入邮箱" id="email">
                            <button class="btn btn-success" onclick="refurbishIndex()">验证</button>
                        </center>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <center>
                            <span style="font-size: 20px;"><strong>&nbsp;&nbsp;验证码</strong></span>
                            <input type="text" style="font-size:20px; width:180px;" placeholder="请输入验证码" id="check">
                        </center>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="row">
                        <center>
                            <button class="btn btn-primary" type="submit" data-dismiss="modal"
                                    style="margin-right:10px;" onclick="register()">注册
                            </button>
                        </center>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal myModal3"><!---->
        <div class="modal-dialog modal-md"><!--还有modal-sm，modal-md-->
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" data-dismiss="modal">×</button>
                    <center>
                        <p style="color:red;font-size: 22px;margin-top: 20px;"><span class="glyphicon glyphicon-fire" style="color:red;"></span><strong>我要发帖</strong></p>
                    </center>
                </div>
                <div class="modal-body">
                    <div class="row" style="margin-bottom:10px;">
                        <center>
                            <span style="font-size:18px">帖名</span>
                            <input type="text" style="font-size: 20px;width: 180px;">
                        </center>
                    </div>
                    <div class="row" style="margin: 0px auto;">
                        <center>
                            <span class="text-primary" style="font-size: 20px;float:left;margin-left: 30%;"><strong>内容</strong></span>
                            <textarea  rows="10"  style="float:left;width:240px;"></textarea>
                        </center>
                    </div>
                </div>
                <div class="modal-footer">
                    <center><button class="btn btn-danger">我要发帖</button></center>
                </div>
            </div>
        </div>
    </div>
<script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}"></script>
<script src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
<script>
    $(function () {
        //轮播自动播放
        $('#myCarousel').carousel({
            interval : 3000,
        });})
</script>
<script>
    var x;
    function refurbishIndex(){
        var optionJson=[];
        var email=document.getElementById("email").value;
        $.ajax({
            type:"post",
            url:"/pet/User/email",
            data:{"email":email},
            async: false,
            success:function (data) {
                var arr=data.split(",");
                alert(arr[0]);
                x=arr[1];
            }
        });
    }
    function register() {
        alert(x);
        var optionJson = [];
        var uname = document.getElementById("uname").value;
        var upd = document.getElementById("upd").value;
        var upd1 = document.getElementById("upd1").value;
        var check = document.getElementById("check").value;
        var email = document.getElementById("email").value;
        var t=0;
        var say;
        if(uname==""||uname.length>8){
            t=1;
            say="输入用户名有误";
        }
        if(upd==""||((upd.length<6)&&upd.length>9)){
            t = 1;
            say="输入密码有误";
        }
        if(check=="") {
            t = 1;
            say="输入验证码不能为空";
        }
        if(email=="") {
            t = 1;
            say="输入邮箱不能为空";
        }
        if(upd!=upd1) {
            t = 1;
            say="两次输入密码不相同";
        }
        if(x!=check){
            t=1;
            say="验证码错误";
        }
        if(x==""){
            t=1;
            say="请发送邮件";
        }
        if (t==0){
            $.ajax({
                type: "post",
                url: "/pet/User/register",
                data: {"email": email,"uname":uname,"upd":upd,"check":check},
                async: false,
                success: function (data) {
                    alert(data);
                }
            });
        }
        else
        {
            alert(say);
        }
        x="";
    }
</script>
</body>
</html>